# This file serves as documentation for config parameters of delta
# style printers. One may copy and edit this file to configure a new
# delta printer. Only parameters unique to delta printers are
# described here - see the "example.cfg" file for description of
# common config parameters.

# DO NOT COPY THIS FILE WITHOUT CAREFULLY READING AND UPDATING IT
# FIRST. Incorrectly configured parameters may cause damage.

# The stepper_a section describes the stepper controlling the front
# left tower (at 210 degrees). This section also controls the homing
# parameters (homing_speed, homing_retract_dist) for all towers.
[stepper_a]
step_pin: PA19
dir_pin: !PA18
enable_pin: !PA20
microsteps: 32
rotation_distance: 40
endstop_pin: ^PB15
homing_speed: 50
position_endstop: 297.05
#   Distance (in mm) between the nozzle and the bed when the nozzle is
#   in the center of the build area and the endstop triggers. This
#   parameter must be provided for stepper_a; for stepper_b and
#   stepper_c this parameter defaults to the value specified for
#   stepper_a.
arm_length: 293.7
#   Length (in mm) of the diagonal rod that connects this tower to the
#   print head. This parameter must be provided for stepper_a; for
#   stepper_b and stepper_c this parameter defaults to the value
#   specified for stepper_a.
#angle:
#   This option specifies the angle (in degrees) that the tower is
#   at. The default is 210 for stepper_a, 330 for stepper_b, and 90
#   for stepper_c.

# The stepper_b section describes the stepper controlling the front
# right tower (at 330 degrees).
[stepper_b]
step_pin: PC7
dir_pin: !PC6
enable_pin: !PC8
microsteps: 32
rotation_distance: 40
endstop_pin: ^PC9

# The stepper_c section describes the stepper controlling the rear
# tower (at 90 degrees).
[stepper_c]
step_pin: PC2
dir_pin: !PC1
enable_pin: !PC3
rotation_distance: 40
microsteps: 32
endstop_pin: ^PC5

[extruder]
step_pin: PA14
dir_pin: PB26
enable_pin: !PA15
rotation_distance: 40
microsteps: 32
nozzle_diameter: 0.400
filament_diameter: 1.750
heater_pin: PA24
sensor_type: AD595
adc_voltage: 3.3
sensor_pin: analog1
control: pid
pid_Kp: 44
pid_Ki: 2.5
pid_Kd: 47.5
min_temp: 0
max_temp: 450

#[heater_bed]
#heater_pin: ar4
#sensor_type: EPCOS 100K B57560G104F
#sensor_pin: analog10
#control: watermark
#max_delta: 2.0
#min_temp: 0
#max_temp: 130

# Print cooling fan (omit section if fan not present).

[mcu]
serial: /dev/ttyS2
#serial: /dev/serial/by-id/usb-Klipper_sam3x8e_203120514D3348433032303132303132-if00
baud: 250000
#baud: 115200
restart_method: command


[printer]
kinematics: delta
#   This option must be "delta" for linear delta printers.
max_velocity: 800
#   Maximum velocity (in mm/s) of the toolhead relative to the
#   print. This parameter must be specified.
max_accel: 10000
#   Maximum acceleration (in mm/s^2) of the toolhead relative to the
#   print. This parameter must be specified.
max_z_velocity: 800
#   For delta printers this limits the maximum velocity (in mm/s) of
#   moves with z axis movement. This setting can be used to reduce the
#   maximum speed of up/down moves (which require a higher step rate
#   than other moves on a delta printer). The default is to use
#   max_velocity for max_z_velocity.
#minimum_z_position: 0
#   The minimum Z position that the user may command the head to move
#   to.  The default is 0.

delta_radius: 172.25
#   Radius (in mm) of the horizontal circle formed by the three linear
#   axis towers. This parameter may also be calculated as:
#    delta_radius = smooth_rod_offset - effector_offset - carriage_offset
#   This parameter must be provided.

# The delta_calibrate section enables a DELTA_CALIBRATE extended
# g-code command that can calibrate the tower endstop positions and
# angles.
[delta_calibrate]
radius: 50
#   Radius (in mm) of the area that may be probed. This is the radius
#   of nozzle coordinates to be probed; if using an automatic probe
#   with an XY offset then choose a radius small enough so that the
#   probe always fits over the bed. This parameter must be provided.
#speed: 50
#   The speed (in mm/s) of non-probing moves during the calibration.
#   The default is 50.
#horizontal_move_z: 5
#   The height (in mm) that the head should be commanded to move to
#   just prior to starting a probe operation. The default is 5.
#[output_pin EXTRUDER] # driver current
#pin: DAC0
#pwm: True
#value: 0.8
